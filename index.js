const readlineSync = require('readline-sync');
var colors = require('colors/safe');

var scoreTrack = [];

function startGame() {
    let max = getMaxFromUser();
    while(max === false){
        max = getMaxFromUser();
    };
    let goal = generateRandomNumber(max);
    let guess = getGuessFromUser();    
    let checkGuess = isGuessCorrect(goal, guess);
    let counter = 1;
    while( checkGuess === false ){
        counter++;
        let guess = getGuessFromUser();
        checkGuess = isGuessCorrect(goal, guess);

    } 
    console.log(name + " you took "+ counter + " tries to guess the Number " + " Your Score is " + counter);
    scoreTrack.push(counter);
    console.log('\nGame Over\n');
    wantToPlayAgain();

}

const name = readlineSync.question("Please Enter your Name ");
console.log('Welcome ', name, "  Lets Play a Game \\m/ ");

function getMaxFromUser(){
    let max = Number(readlineSync.question("Please enter a number between 0 and 100-- "));
    
    if (max >= 100 || max < 0){
        console.log("\nGet your eyes checked and read the Instructions\n");
        let max = false;
        return max;
    }
    else if (max >0 && max < 100){
        return max;
    }
    else if (max === -0){
        process.exit();
    }
    else {
        console.log("\nNo Words allowed here, Only Numbers\n");
        let max = false;
        return max;
    }

}

startGame();

function generateRandomNumber(max){
    return Number(Math.floor(Math.random() * Math.floor(max)));
}

function getGuessFromUser(){
    let guess = Number(readlineSync.question("Please guess the number  "));
    return guess;    
 } 
 
function isGuessCorrect(goal,guess){
   if (goal === guess){
        console.log(colors.rainbow("*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER          ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER        ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER          ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER        ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER          ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER        ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER          ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER        ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER          ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************         WELCOME     "+  name  +"    AKA       The       @BRAINSTATION        MARKER        ********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************          You Got it!"));
        console.log(colors.bold('\nYou Win'));
        return true;
   }
   else if (goal > guess && guess>0){
       console.log("Too Low!");
       return false;
   }
   else if(goal < guess && guess>0 && guess<100 ){
       console.log("Too high!");
       return false;
    }
   else if(guess<0){
        console.log("Please, Enter a positive number\n");
        return false;
   }
   else if(guess === -0 || guess >= 100 || guess === "" ){
       console.log("\nDont Mess With The Game ;D \n");
       return false;
   }
   else{
       console.log("Come on, You know thats's not a Number\n");
       return false;
   }
}

function wantToPlayAgain (){
    let playAgain = readlineSync.question("Want To Play Again?  ");

    if (playAgain === "yes" || playAgain === "y"){
        startGame();
    }
    else{
        console.log("Your Previous Scores were " + scoreTrack);
    }

}
